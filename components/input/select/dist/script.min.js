function toggleOptions(t,e=!1){var c=document.querySelectorAll(".input-select__options-container"),c=Array.from(c).find(e=>e.customSelect===t);c&&(c.classList.contains("hidden")&&!e?(document.body.appendChild(c),e=t.getBoundingClientRect(),c.style.left=e.left+window.scrollX+"px",c.style.top=e.bottom+window.scrollY+"px",c.classList.remove("hidden")):(t.appendChild(c),c.classList.add("hidden")))}function selectOption(e,t){var c,n,o,l,r=document.querySelectorAll(".input-select__options-container"),r=Array.from(r).find(e=>e.customSelect===t);r&&(c=t.querySelector(".selected-options"),l="true"===t.getAttribute("data-multi"),t.getAttribute("data-search"),n=e.innerText,o=e.querySelector(".hidden-checkbox"),l?(o.checked=!o.checked,o.checked?(c.innerText+=" "+n,e.classList.add("selected")):(c.innerText=c.innerText.replace(n,"").trim(),e.classList.remove("selected"))):(r.querySelectorAll(".hidden-checkbox").forEach(e=>e.checked=!1),o.checked=!0,c.innerText=n,r.querySelectorAll(".option-item").forEach(e=>e.classList.remove("selected")),e.classList.add("selected"),l=new CustomEvent("ds-value-change",{detail:{name:o.name,value:o.value,data:o.dataset}}),t.closest(".input-select").dispatchEvent(l),toggleOptions(t)),updatePlaceholder(t))}function preloadSelectedOptions(e){let c=e.querySelector(".selected-options");e.querySelectorAll(".hidden-checkbox:checked").forEach(e=>{var e=e.closest(".option-item"),t=e.innerText;c.innerText=" "+t,e.classList.add("selected")}),updatePlaceholder(e)}function updatePlaceholder(e){var t=e.querySelector(".selected-options"),e=e.getAttribute("data-placeholder")||"Vyberte...";""===t.innerText.trim()||t.innerText.trim()===e?t.innerText=e:t.innerText.includes(e)&&(t.innerText=t.innerText.replace(e,"").trim())}function removeDiacritics(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function filterOptions(t){var e=document.querySelectorAll(".input-select__options-container"),e=Array.from(e).find(e=>e.customSelect===t);if(e){let c=removeDiacritics(e.querySelector(".search-input").value.toLowerCase());e.querySelectorAll(".option-item").forEach(e=>{var t=removeDiacritics(e.innerText.toLowerCase());e.style.display=t.includes(c)?"":"none"})}}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".custom-select").forEach(c=>{var e=c.querySelector(".selected-options"),t=c.querySelector(".search-input");c.querySelector(".input-select__options-container").customSelect=c,e.addEventListener("click",()=>toggleOptions(c)),t.addEventListener("keyup",()=>filterOptions(c)),preloadSelectedOptions(c),updatePlaceholder(c),c.querySelectorAll(".option-item").forEach(e=>{e.addEventListener("click",()=>selectOption(e,c))}),c.closest(".input-select").addEventListener("ds-select-by-value",function(e){let t=e.detail.value;c.querySelectorAll(".option-item").forEach(e=>{e.querySelector(".hidden-checkbox").value===t&&selectOption(e,c)})})}),document.addEventListener("click",t=>{document.querySelectorAll(".input-select__options-container").forEach(e=>{e.customSelect.contains(t.target)||e.contains(t.target)||toggleOptions(e.customSelect,!0)})})});
//# sourceMappingURL=script.min.js.map
