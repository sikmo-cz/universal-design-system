{"version":3,"file":"script.min.js","sources":["script.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\n  document.querySelectorAll('.custom-select').forEach(select => {\n    const selectedOptions = select.querySelector('.selected-options');\n    const searchInput = select.querySelector('.search-input');\n\n    // Nastavení akcí pro kliknutí na vybranou oblast a pro vyhledávání\n    selectedOptions.addEventListener('click', () => toggleOptions(select));\n    searchInput.addEventListener('keyup', () => filterOptions(select));\n\n    // Přednačtení vybraných hodnot a aktualizace placeholderu\n    preloadSelectedOptions(select);\n    updatePlaceholder(select);\n\n    // Nastavení akce pro každý .option-item v selectu\n    select.querySelectorAll('.option-item').forEach(option => {\n      option.addEventListener('click', () => selectOption(option, select));\n    });\n\n    // Vlastní JS trigger event pro vybrání hodnoty\n    select.closest(\".input-select\").addEventListener(\"ds-select-by-value\", function (event) {\n      const select_by_value = event.detail.value;\n\n      select.querySelectorAll('.option-item').forEach(option => {\n        if (option.querySelector(\".hidden-checkbox\").value === select_by_value) {\n          selectOption(option, select);\n        }\n      });\n  \n    });\n\n  });\n\n  // Zavírá všechny otevřené selecty při kliknutí mimo\n  document.addEventListener('click', (event) => {\n    document.querySelectorAll('.custom-select').forEach(select => {\n      if (!select.contains(event.target)) {\n        const optionsContainer = select.querySelector('.options-container');\n        if (!optionsContainer.classList.contains('hidden')) {\n          optionsContainer.classList.add('hidden');\n        }\n      }\n    });\n  });\n});\n\nfunction toggleOptions(customSelect) {\n  const container = customSelect.querySelector('.options-container');\n  container.classList.toggle('hidden');\n}\n\nfunction selectOption(option, customSelect) {\n  const selectedOptions = customSelect.querySelector('.selected-options');\n  const multiSelect = customSelect.getAttribute('data-multi') === 'true';\n  const searchSelect = customSelect.getAttribute('data-search') === 'true';\n  const optionText = option.innerText;\n  const checkbox = option.querySelector('.hidden-checkbox'); // Přístup k checkboxu nebo radio uvnitř .option-item\n\n  if (multiSelect) {\n    checkbox.checked = !checkbox.checked;\n\n    if (checkbox.checked) {\n      selectedOptions.innerText += ` ${optionText}`;\n      option.classList.add('selected');\n    } else {\n      selectedOptions.innerText = selectedOptions.innerText.replace(optionText, '').trim();\n      option.classList.remove('selected');\n    }\n  } else {\n    customSelect.querySelectorAll('.hidden-checkbox').forEach(cb => cb.checked = false);\n    checkbox.checked = true;\n    selectedOptions.innerText = optionText;\n    customSelect.querySelectorAll('.option-item').forEach(item => item.classList.remove('selected'));\n    option.classList.add('selected');\n\n    // Trigger the custom event \"ds-value-change\"\n    const event = new CustomEvent(\"ds-value-change\", {\n      detail: {\n        name: checkbox.name,\n        value: checkbox.value,\n        data: checkbox.dataset,\n      }\n    });\n    customSelect.closest(\".input-select\").dispatchEvent(event);\n\n    // Zavře single-select po výběru\n    toggleOptions(customSelect);\n  }\n\n  updatePlaceholder(customSelect);\n}\n\nfunction preloadSelectedOptions(customSelect) {\n  const selectedOptions = customSelect.querySelector('.selected-options');\n  const preloadCheckboxes = customSelect.querySelectorAll('.hidden-checkbox:checked');\n\n  preloadCheckboxes.forEach(checkbox => {\n    const option = checkbox.closest('.option-item');\n    const optionText = option.innerText;\n    selectedOptions.innerText += ` ${optionText}`;\n    option.classList.add('selected');\n  });\n\n  updatePlaceholder(customSelect);\n}\n\nfunction updatePlaceholder(customSelect) {\n  const selectedOptions = customSelect.querySelector('.selected-options');\n  const placeholderText = customSelect.getAttribute('data-placeholder') || 'Vyberte...';\n\n  if (selectedOptions.innerText.trim() === '' || selectedOptions.innerText.trim() === placeholderText) {\n    selectedOptions.innerText = placeholderText;\n  } else {\n    if (selectedOptions.innerText.includes(placeholderText)) {\n      selectedOptions.innerText = selectedOptions.innerText.replace(placeholderText, '').trim();\n    }\n  }\n}\n\nfunction removeDiacritics(text) {\n  return text.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\n}\n\nfunction filterOptions(customSelect) {\n  const input = removeDiacritics(customSelect.querySelector('.search-input').value.toLowerCase());\n  const options = customSelect.querySelectorAll('.option-item');\n\n  options.forEach(option => {\n    const text = removeDiacritics(option.innerText.toLowerCase());\n    option.style.display = text.includes(input) ? '' : 'none';\n  });\n}\n"],"names":["toggleOptions","customSelect","querySelector","classList","toggle","selectOption","option","selectedOptions","multiSelect","getAttribute","optionText","innerText","checkbox","checked","add","replace","trim","remove","querySelectorAll","forEach","cb","item","event","CustomEvent","detail","name","value","data","dataset","closest","dispatchEvent","updatePlaceholder","preloadSelectedOptions","placeholderText","includes","removeDiacritics","text","normalize","filterOptions","input","toLowerCase","style","display","document","addEventListener","select","searchInput","select_by_value","contains","target","optionsContainer"],"mappings":"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"}