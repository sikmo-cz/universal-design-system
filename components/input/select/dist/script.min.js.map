{"version":3,"file":"script.min.js","sources":["script.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\n  document.querySelectorAll('.custom-select').forEach(select => {\n    const selectedOptions = select.querySelector('.selected-options');\n    const searchInput = select.querySelector('.search-input');\n\n    // Nastavení akcí pro kliknutí na vybranou oblast a pro vyhledávání\n    selectedOptions.addEventListener('click', () => toggleOptions(select));\n    searchInput.addEventListener('keyup', () => filterOptions(select));\n\n    // Přednačtení vybraných hodnot a aktualizace placeholderu\n    preloadSelectedOptions(select);\n    updatePlaceholder(select);\n\n    // Nastavení akce pro každý .option-item v selectu\n    select.querySelectorAll('.option-item').forEach(option => {\n      option.addEventListener('click', () => selectOption(option, select));\n    });\n  });\n\n  // Zavírá všechny otevřené selecty při kliknutí mimo\n  document.addEventListener('click', (event) => {\n    document.querySelectorAll('.custom-select').forEach(select => {\n      if (!select.contains(event.target)) {\n        const optionsContainer = select.querySelector('.options-container');\n        if (!optionsContainer.classList.contains('hidden')) {\n          optionsContainer.classList.add('hidden');\n        }\n      }\n    });\n  });\n});\n\nfunction toggleOptions(customSelect) {\n  const container = customSelect.querySelector('.options-container');\n  container.classList.toggle('hidden');\n}\n\nfunction selectOption(option, customSelect) {\n  const selectedOptions = customSelect.querySelector('.selected-options');\n  const multiSelect = customSelect.getAttribute('data-multi') === 'true';\n  const optionText = option.innerText;\n  const checkbox = option.querySelector('.hidden-checkbox'); // Přístup k checkboxu nebo radio uvnitř .option-item\n\n  if (multiSelect) {\n    checkbox.checked = !checkbox.checked;\n\n    if (checkbox.checked) {\n      selectedOptions.innerText += ` ${optionText}`;\n      option.classList.add('selected');\n    } else {\n      selectedOptions.innerText = selectedOptions.innerText.replace(optionText, '').trim();\n      option.classList.remove('selected');\n    }\n  } else {\n    customSelect.querySelectorAll('.hidden-checkbox').forEach(cb => cb.checked = false);\n    checkbox.checked = true;\n    selectedOptions.innerText = optionText;\n    customSelect.querySelectorAll('.option-item').forEach(item => item.classList.remove('selected'));\n    option.classList.add('selected');\n\n    // Zavře single-select po výběru\n    toggleOptions(customSelect);\n  }\n\n  updatePlaceholder(customSelect);\n}\n\nfunction preloadSelectedOptions(customSelect) {\n  const selectedOptions = customSelect.querySelector('.selected-options');\n  const preloadCheckboxes = customSelect.querySelectorAll('.hidden-checkbox:checked');\n\n  preloadCheckboxes.forEach(checkbox => {\n    const option = checkbox.closest('.option-item');\n    const optionText = option.innerText;\n    selectedOptions.innerText += ` ${optionText}`;\n    option.classList.add('selected');\n  });\n\n  updatePlaceholder(customSelect);\n}\n\nfunction updatePlaceholder(customSelect) {\n  const selectedOptions = customSelect.querySelector('.selected-options');\n  const placeholderText = customSelect.getAttribute('data-placeholder') || 'Vyberte...';\n\n  if (selectedOptions.innerText.trim() === '' || selectedOptions.innerText.trim() === placeholderText) {\n    selectedOptions.innerText = placeholderText;\n  } else {\n    if (selectedOptions.innerText.includes(placeholderText)) {\n      selectedOptions.innerText = selectedOptions.innerText.replace(placeholderText, '').trim();\n    }\n  }\n}\n\nfunction removeDiacritics(text) {\n  return text.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\n}\n\nfunction filterOptions(customSelect) {\n  const input = removeDiacritics(customSelect.querySelector('.search-input').value.toLowerCase());\n  const options = customSelect.querySelectorAll('.option-item');\n\n  options.forEach(option => {\n    const text = removeDiacritics(option.innerText.toLowerCase());\n    option.style.display = text.includes(input) ? '' : 'none';\n  });\n}\n"],"names":["toggleOptions","customSelect","querySelector","classList","toggle","selectOption","option","selectedOptions","multiSelect","getAttribute","optionText","innerText","checkbox","checked","add","replace","trim","remove","querySelectorAll","forEach","cb","item","updatePlaceholder","preloadSelectedOptions","closest","placeholderText","includes","removeDiacritics","text","normalize","filterOptions","input","value","toLowerCase","style","display","document","addEventListener","select","searchInput","contains","event","target","optionsContainer"],"mappings":"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"}